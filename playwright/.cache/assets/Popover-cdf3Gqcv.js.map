{"version":3,"file":"Popover-cdf3Gqcv.js","sources":["../../../src/lib/Popover.svelte"],"sourcesContent":["<script lang='ts'>\r\n    import { ariaLabelcheck, colorContrastCheck } from \"./ARIAchecks.ts\";\r\n    import Button from \"./Button_ts.svelte\";\r\n    import { onMount } from 'svelte';\r\n\r\n    export let popoverId: string = '';\r\n    export let popoverClass: string = 'bg-white text-black rounded-lg shadow dark:bg-gray-700 dark:text-white p-4 md:p-5 space-y-4';\r\n\texport let contentId: string|undefined = 'popoverContentId';\r\n    export let style: string|undefined = '';\r\n    export let openButtonId: string|undefined = 'openPopover'\r\n    export let openButtonContent: string|undefined = \"show Popover\"\r\n    export let openButtonAriaLabel: string|undefined = \"Open Popover\"\r\n    export let openButtonStyle: string|undefined = ''\r\n    export let openButtonClass: string|undefined = 'bg-black text-white'\r\n\texport let closeButtonId: string|undefined = 'closePopoverButtonId';\r\n    export let closeButtonContent: string|undefined = \"X\"\r\n    export let closeButtonAriaLabel: string|undefined = \"Close Popover\"\r\n\texport let closeButtonClass: string|undefined = 'bg-black text-white';\r\n\texport let closeButtonStyle: string|undefined = 'closePopoverStyle';\r\n\r\n    let showPopover: boolean = false;\r\n    let buttonElement: HTMLElement;\r\n    let popoverElement: HTMLElement;\r\n\r\n    onMount(() => {\r\n        positionPopover();\r\n    });\r\n\r\n    function positionPopover() {\r\n        if (buttonElement && popoverElement) {\r\n            const rect = buttonElement.getBoundingClientRect();\r\n            popoverElement.style.position = 'absolute';\r\n            popoverElement.style.top = `${rect.bottom + window.scrollY}px`;\r\n            popoverElement.style.left = `${rect.left + window.scrollX}px`;\r\n        }\r\n    }\r\n\r\n    function handleClick(event: MouseEvent) {\r\n        if (showPopover && popoverElement && !popoverElement.contains(event.target as Node)) {\r\n            showPopover = false;\r\n        }\r\n    }\r\n\r\n\tfunction handleKeyDown(event: KeyboardEvent) {\r\n\t\tif(event.key === 'Escape') {\r\n            console.log('escape')\r\n\t\t\tshowPopover = false;\r\n\t\t}\r\n\t}\r\n\r\n\t$: if(showPopover) {\r\n        setTimeout(positionPopover, 0);\r\n\t}\r\n</script>\r\n\r\n<svelte:window on:click={handleClick} on:keydown={handleKeyDown}/>\r\n\r\n<Button\r\n    on:click={(event) => {\r\n        event.stopPropagation()\r\n        showPopover = true}}\r\n    id={openButtonId}\r\n    content={openButtonContent}\r\n    ariaLabel={openButtonAriaLabel}\r\n    style={openButtonStyle}\r\n    className={openButtonClass}\r\n></Button>\r\n\r\n{#if showPopover}\r\n    <div\r\n        id={popoverId}\r\n        class={`${popoverClass} popover-container`}\r\n        style={`${style}; display: ${showPopover ? 'block' : 'none'};`}\r\n        bind:this={popoverElement}\r\n        on:close={() => {\r\n            showPopover = false;\r\n        }}\r\n        use:ariaLabelcheck\r\n        use:colorContrastCheck\r\n    >\r\n        <div\r\n            role=\"dialog\"\r\n            id={contentId}\r\n            aria-Modal=\"true\"\r\n            aria-labelledby={popoverId}\r\n            aria-describedby={popoverId}\r\n        >\r\n            <Button\r\n                on:click={() => {\r\n                    showPopover = false;\r\n                }}\r\n                id={closeButtonId}\r\n                content={closeButtonContent}\r\n                ariaLabel={closeButtonAriaLabel}\r\n                style={closeButtonStyle}\r\n                className={closeButtonClass}\r\n            ></Button>\r\n            <slot name=\"header\" />\r\n            <slot name=\"content\" />\r\n        </div>\r\n    </div>\r\n{/if}\r\n\r\n<style>\r\n    .popover-container {\r\n        position: fixed;\r\n        width: auto;\r\n        max-width: 25%;\r\n        min-width: min-content;\r\n        box-sizing: border-box;\r\n        pointer-events: auto;\r\n    }\r\n\r\n    /* Optional: Add this if you want to prevent interaction with elements behind the popover */\r\n    :global(body.popover-open) {\r\n        pointer-events: none;\r\n    }\r\n    :global(body.popover-open .popover-container) {\r\n        pointer-events: auto;\r\n    }\r\n</style>"],"names":[],"mappings":"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"}